<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/main}">

<head>
  <title>Главная</title>
</head>

<body>
<section layout:fragment="content">
  <div class="page-heading">
    <h1 class="page-title">Basic Tables</h1>
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a href="index.html"><i class="la la-home font-20"></i></a>
      </li>
      <li class="breadcrumb-item">Basic Tables</li>
    </ol>
  </div>
  <div class="page-content fade-in-up">
    <div class="row">
      <div class="col-xl-6">
        <div class="ibox">
          <div class="ibox-head">
            <div class="ibox-title">
              <span th:text="${match.matchDateTime}"></span>
              <a th:href="@{/match/{id}/edit(id=${match.id})}">Изменить</a>
              <a th:href="@{/match-event/new(matchId=${match.id})}">Добавить событие</a>
            </div>
          </div>
          <div class="ibox-body">
            <table class="table table-bordered">
              <thead>
              <tr>
                <td th:text="${match.homeTeamName}"  colspan="3">Home Team Name</td>
                <td th:text="${match.awayTeamName}"  colspan="3">Away Team Name</td>
              </tr>
              </thead>
              <tbody>
              <tr>
                <td th:text="${match.homeGoals}"  colspan="3">Home Goals</td>
                <td th:text="${match.awayGoals}"  colspan="3">Away Goals</td>
              </tr>

              <tr th:each="event : ${match.events}">
                <td th:text="${event.homeTeam} ? ${event.minute} : ''"></td>
                <td th:text="${event.homeTeam} ? ${event.type} : ''"></td>
                <td th:text="${event.homeTeam} ? ${event.playerName} : ''"></td>

                <td th:text="${!event.homeTeam} ? ${event.minute} : ''"></td>
                <td th:text="${!event.homeTeam} ? ${event.type} : ''"></td>
                <td th:text="${!event.homeTeam} ? ${event.playerName} : ''"></td>

                <td>
                  <form th:action="@{/match-event/{id}/delete(id=${event.id})}" method="post">
                    <input type="hidden" name="matchId" th:value="${match.id}" />
                    <input type="hidden" name="eventType" th:value="${event.type}" />
                    <button type="submit" class="btn btn-danger btn-sm">Удалить событие</button>
                  </form>
                </td>
              </tr>

              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
</body>
</html>


